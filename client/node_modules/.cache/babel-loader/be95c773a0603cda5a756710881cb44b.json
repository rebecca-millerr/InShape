{"ast":null,"code":"var _jsxFileName = \"/Users/Rebecca/Documents/soph/comp20/final/InShape/client/src/LogIn.js\";\nimport React, { Component } from 'react';\nimport './LogIn.css';\n\nclass LogIn extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loggedIn: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.authenticate = this.authenticate.bind(this);\n  }\n\n  async componentDidMount() {\n    const response = await fetch('/info/' + \"hithere\");\n    console.log(response);\n    const json = await response.json();\n    console.log(json);\n  }\n\n  handleChange(event) {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async authenticate() {\n    const response = await fetch('/info/' + this.state.username);\n    console.log(response);\n    const json = await response.json();\n    console.log(json);\n    const status = await fetch('/log_in/' + this.state.username);\n    console.log(status); // json = { username : asdjknad, first_name = akajsnkaj ... }\n    // console.log(json.username)\n    // json is object with all info\n    // because /log_in/ only returns username\n    // /info would return everything\n    // clear state\n\n    this.setState({\n      loggedIn: true\n    });\n    this.props.validate();\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      return React.createElement(\"div\", {\n        className: \"LoginPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"LoginHeading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"All done!\"));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"LogInPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"LogInHeading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \" Log In to get InShape!\"), React.createElement(\"form\", {\n      className: \"LoginFormBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      onChange: this.handleChange,\n      value: this.state.username,\n      className: \"LoginTextField\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      value: this.state.password,\n      className: \"LoginTextField\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: this.authenticate,\n      className: \"LoginSubmitButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Log In\")))));\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["/Users/Rebecca/Documents/soph/comp20/final/InShape/client/src/LogIn.js"],"names":["React","Component","LogIn","constructor","state","username","password","loggedIn","handleChange","bind","authenticate","componentDidMount","response","fetch","console","log","json","event","target","name","value","setState","status","props","validate","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nimport './LogIn.css';\n\nclass LogIn extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username : \"\",\n            password : \"\",\n            loggedIn : false\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.authenticate = this.authenticate.bind(this);\n    }\n\n    async componentDidMount() {\n        const response = await fetch('/info/' + \"hithere\");\n        console.log(response)\n        const json = await response.json();\n        console.log(json)\n    }\n\n    handleChange(event) {\n        const {name, value} = event.target;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    async authenticate() {\n        \n        const response = await fetch('/info/' + this.state.username);\n        console.log(response)\n        const json = await response.json();\n        console.log(json)\n\n        const status = await fetch('/log_in/' + this.state.username);\n        console.log(status)\n        // json = { username : asdjknad, first_name = akajsnkaj ... }\n        // console.log(json.username)\n        // json is object with all info\n        // because /log_in/ only returns username\n        // /info would return everything\n\n        // clear state\n        this.setState({\n            loggedIn : true\n        });\n\n        this.props.validate();\n    }\n\n    render() {\n        if ( this.state.loggedIn ) {\n            return(\n                <div className = \"LoginPage\">\n                    <h1 className = \"LoginHeading\">All done!</h1>\n                </div>\n            )\n        }\n\n        return(\n            <div className = \"LogInPage\">\n                <h1 className = \"LogInHeading\"> Log In to get InShape!</h1>\n                <form className = \"LoginFormBox\">                    \n                    <input \n                        type = \"text\"\n                        name = \"username\"\n                        placeholder = \"Username\"\n                        onChange = {this.handleChange}\n                        value = {this.state.username}\n                        className = \"LoginTextField\" \n                        required\n                    />\n                    <br />\n                    <input \n                        type = \"password\"\n                        name = \"password\"\n                        placeholder = \"Password\"\n                        onChange = {this.handleChange}\n                        value = {this.state.password}\n                        className = \"LoginTextField\" \n                        required\n                    />\n\n                    <div>\n                        <center><div onClick = {this.authenticate} className = \"LoginSubmitButton\">Log In</div></center>\n                    </div>  \n                </form>\n            </div>\n        )\n    }\n}\n\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}